<div>
    <button id="back" type="button" (click)="back()" mat-icon-button><mat-icon>keyboard_arrow_left</mat-icon></button>
</div>

<div class="header" *ngIf="user$ | async as user">
    <p class="title">{{user.firstName}}'s Conversations</p>
</div>

<div class="chats" *ngIf="chats$ | async as chats">
    <div *ngIf="chats.length > 0; else noChat">
        <div *ngFor="let chat of chats">
            <a [routerLink]="['/userchat', chat.user + '-' + chat.merchant]">
                <mat-card>
                    <mat-card-title>{{ chat.merchant }}</mat-card-title>
                    <mat-card-content>{{ chat.lastMessage }}</mat-card-content>
                    <mat-card-subtitle>{{ chat.timestamp | date: 'medium'}}</mat-card-subtitle>
                </mat-card>
            </a>
        </div>
    </div>
</div>


<ng-template #noChat>
    <p class="noChat">No Chats Yet</p>
</ng-template>