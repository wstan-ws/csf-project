<div>
    <button id="back" type="button" (click)="back()" mat-icon-button><mat-icon>keyboard_arrow_left</mat-icon></button>
</div>

<div class="header">
    <p class="title">Plumbers</p>
</div>

<div class="search">
    <form [formGroup]="searchForm" (submit)="search()">
        <mat-form-field>
            <input type="text" formControlName="search" placeholder="Search for Plumbers" matInput>
        </mat-form-field>
        <button id="submit" type="submit" color="primary" mat-raised-button>Search</button>
    </form>
</div>

<div class="plumbers" *ngIf="plumbers | async as plumbers">
    <div *ngIf="plumbers.length > 0; else noPlum">
        <div *ngFor="let plum of plumbers">
            <a [routerLink]="['/plumber-details', plum.username]">
                <mat-card>
                    <mat-card-title>{{ plum.firstName }} {{ plum.lastName }}</mat-card-title>
                    <mat-card-content>{{ plum.companyName }}</mat-card-content>
                    <mat-card-subtitle *ngIf="plum.rating !== ''; else noRating">{{ plum.rating }} ‚≠ê</mat-card-subtitle>
                </mat-card>
            </a>
        </div>
    </div>
</div>

<ng-template #noPlum>
    <p class="template">No Plumbers Available</p>
</ng-template>

<ng-template #noRating>
    <p>No Ratings Yet</p>
</ng-template>