<div>
    <button id="back" type="button" (click)="back()" mat-icon-button><mat-icon>keyboard_arrow_left</mat-icon></button>
</div>

<div class="history" *ngIf="jobHistory$ | async as jobHistory">
    <p class="title">Job History</p>
    <div *ngFor="let job of jobHistory">
        <mat-card>
            <div class="flexbox">
                <mat-card-content>
                    <p class="name"><strong>Handyman: </strong>{{ job.merchant }}</p>
                    <p *ngIf="job.status === 3"><strong>Status: </strong>Completed</p>
                    <p *ngIf="job.status === 2"><strong>Status: </strong>Rejected</p>
                    <p *ngIf="job.status === 4"><strong>Status: </strong>Cancelled</p>
                </mat-card-content>
                <mat-card-subtitle>
                    <p class="timestamp" *ngIf="job.completedTimestamp !== 'Not Completed'"><small>{{ job.completedTimestamp }}</small></p>
                    <p class="timestamp" *ngIf="job.completedTimestamp === 'Not Completed'"><small>{{ job.timestamp }}</small></p>
                </mat-card-subtitle>
            </div>
        </mat-card>
    </div>
</div>