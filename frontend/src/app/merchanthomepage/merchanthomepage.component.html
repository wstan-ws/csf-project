<div class="header">
    <img src="/assets/overhaul.png" alt="">
    <p class="type">MERCHANT PAGE</p>
</div>

<div class="top-content" *ngIf="merchant$ | async as merchant">
    <p class="title">Hi, {{ merchant.firstName }}!</p>
    <div class="buttons">
        <button type="button" color="primary" mat-raised-button (click)="convo()">Conversations</button>
        <button type="button" color="primary" mat-raised-button (click)="profile()">Profile</button>
        <button type="button" id="logout" mat-raised-button (click)="logout()">Logout</button>
    </div>
</div>

<div class="activity">
    <div class="toggle">
        <p class="label">Status: {{ status }}</p>
        <form [formGroup]="activityForm">
            <mat-slide-toggle color="primary" (change)="onChange($event)"  formControlName="activity"></mat-slide-toggle>
        </form>
    </div>    
</div>

<div class="jobs">
    <div class="jobs-child" id="job-requests">
        <p class="subtitle">Job Requests</p>
        <div class="flexbox">
            <mat-card *ngFor="let req of websocketSvc.jobRequests">
                <mat-card-title>{{ req.user }}</mat-card-title>
                <mat-card-subtitle>{{ req.timestamp }}</mat-card-subtitle>
                <div class="card-buttons">
                    <button type="button" id="accept" color="primary" mat-raised-button (click)="accept(req.user)">Accept</button>
                    <button type="button" id="reject" color="warn" mat-raised-button (click)="reject(req.user)">Reject</button>
                </div>
            </mat-card>
        </div>
    </div>
    <div class="jobs-child" id="current-jobs">
        <p class="subtitle">Current Jobs</p>
        <div class="flexbox">
            <mat-card *ngFor="let job of websocketSvc.acceptedJobs">
                <mat-card-title>{{ job.user }}</mat-card-title>
                <mat-card-subtitle>{{ job.timestamp }}</mat-card-subtitle>
            </mat-card>
        </div>
    </div>
</div>
